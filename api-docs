{"swagger":"2.0","info":{"description":"Api Documentation","version":"1.0","title":"Api Documentation","termsOfService":"urn:tos","contact":{},"license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0"}},"host":"s21arecrecur01blkbapp01.nxt.blackbaud.com","basePath":"/","tags":[{"name":"batch-resource","description":"Batch Resource"},{"name":"calculate-schedule-resource","description":"Calculate Schedule Resource"},{"name":"cosmos-document-collection-resource","description":"Cosmos Document Collection Resource"},{"name":"dead-letter-queue-resource","description":"Dead Letter Queue Resource"},{"name":"deprecated-schedule-frequencies-resource","description":"Deprecated Schedule Frequencies Resource"},{"name":"gift-resource","description":"Gift Resource"},{"name":"performance-resource","description":"Performance Resource"},{"name":"recurring-gift-schedule-resource","description":"Recurring Gift Schedule Resource"},{"name":"schedule-frequencies-resource","description":"Schedule Frequencies Resource"}],"paths":{"/cosmosdocumentcollection":{"get":{"tags":["cosmos-document-collection-resource"],"summary":"getAll","operationId":"getAllUsingGET","produces":["application/json"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/CosmosDocumentCollection"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"BBID":[]},{"SAS":[]}],"deprecated":false}},"/cosmosdocumentcollection/{collectionResourceId}":{"get":{"tags":["cosmos-document-collection-resource"],"summary":"findOne","operationId":"findOneUsingGET","produces":["application/json"],"parameters":[{"name":"collectionResourceId","in":"path","description":"collectionResourceId","required":true,"type":"string"},{"name":"includePartitioningStats","in":"query","description":"includePartitioningStats","required":false,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CosmosDocumentCollection"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"BBID":[]},{"SAS":[]}],"deprecated":false}},"/cosmosdocumentcollection/{collectionResourceId}/offer":{"put":{"tags":["cosmos-document-collection-resource"],"summary":"changeCollectionRequestUnits","operationId":"changeCollectionRequestUnitsUsingPUT","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"collectionResourceId","in":"path","description":"collectionResourceId","required":true,"type":"string"},{"in":"body","name":"offer","description":"offer","required":true,"schema":{"$ref":"#/definitions/Offer"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CosmosDocumentCollection"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"BBID":[]},{"SAS":[]}],"deprecated":false}},"/dlq/topic":{"get":{"tags":["dead-letter-queue-resource"],"summary":"getTopicNames","operationId":"getTopicNamesUsingGET","produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"type":"string"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"BBID":[]},{"SAS":[]}],"deprecated":false}},"/dlq/{topicName}/message":{"get":{"tags":["dead-letter-queue-resource"],"summary":"getDlqMessagesForTopic","operationId":"getDlqMessagesForTopicUsingGET","produces":["*/*"],"parameters":[{"in":"body","name":"count","description":"count","required":false,"schema":{"type":"integer","format":"int32"}},{"name":"topicName","in":"path","description":"topicName","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/DeadLetterQueueMessage"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"BBID":[]},{"SAS":[]}],"deprecated":false},"delete":{"tags":["dead-letter-queue-resource"],"summary":"deleteDlqMessagesForTopic","operationId":"deleteDlqMessagesForTopicUsingDELETE","produces":["*/*"],"parameters":[{"in":"body","name":"count","description":"count","required":false,"schema":{"type":"integer","format":"int32"}},{"name":"topicName","in":"path","description":"topicName","required":true,"type":"string"}],"responses":{"200":{"description":"OK"},"204":{"description":"No Content"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"BBID":[]},{"SAS":[]}],"deprecated":false}},"/performance/bbcputime":{"get":{"tags":["performance-resource"],"summary":"getThreadCpuTime","description":"retrieve cpu time, thread name, thread id, and host name for all running threads","operationId":"getThreadCpuTimeUsingGET","produces":["text/plain"],"responses":{"200":{"description":"cpu time, thread name, thread id, and host name for all running threads sorted by cpu time","schema":{"type":"string"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"BBID":[]},{"SAS":[]}],"deprecated":false}},"/performance/bbthreaddump":{"get":{"tags":["performance-resource"],"summary":"getThreadDump","description":"There are two different ways to obtain a ThreadDump. The primary method invoked here is via the DiagnosticCommand\n    MBean. This method yields the same threaddump output that is generated by JStack, kill -3, etc. It also produces\n    more detailed information than the second option which involves calling the dumpAllThreads method on the\n    ThreadMXBean. This second method is used by the existing threaddump SpringBoot actuator and unfortunately, does\n    not capture GC and other \"native\" threads","operationId":"getThreadDumpUsingGET","produces":["text/plain"],"responses":{"200":{"description":"a full thread dump and the host name for all running threads","schema":{"type":"string"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"BBID":[]},{"SAS":[]}],"deprecated":false}},"/schedulefrequencies":{"get":{"tags":["deprecated-schedule-frequencies-resource"],"summary":"getFrequencies","operationId":"getFrequenciesUsingGET","produces":["application/json"],"responses":{"200":{"description":"a list of the frequencies currently supported","schema":{"type":"array","items":{"type":"string","enum":["WEEKLY","EVERY_TWO_WEEKS","EVERY_FOUR_WEEKS","TWICE_A_MONTH","MONTHLY","QUARTERLY","EVERY_SIX_MONTHS","ANNUALLY"]}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"BBID":[]},{"SAS":[]}],"deprecated":false}},"/v1/batches":{"get":{"tags":["batch-resource"],"summary":"findAll","operationId":"findAllUsingGET","produces":["application/json"],"parameters":[{"name":"environmentFilter","in":"query","description":"an EnvironmentFilter to restrict sites to, possible values ALL_SITES, CANARY_SITES, NO_CANARY_SITES","required":false,"type":"string","allowEmptyValue":false,"enum":["ALL_SITES","CANARY_SITES","NO_CANARY_SITES"]},{"name":"pageSize","in":"query","description":"number of batches to return for this page","required":false,"type":"integer","format":"int32","allowEmptyValue":false},{"name":"startId","in":"query","description":"the start of the next page of batches","required":false,"type":"string","allowEmptyValue":false}],"responses":{"200":{"description":"a list of Batch API objects representing a batch of installments","schema":{"type":"array","items":{"$ref":"#/definitions/Batch"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"BBID":[]},{"SAS":[]}],"deprecated":false}},"/v1/batches/failed":{"get":{"tags":["batch-resource"],"summary":"findFailed","operationId":"findFailedUsingGET","produces":["application/json"],"responses":{"200":{"description":"a list of Batch API objects that have the FAILED status","schema":{"type":"array","items":{"$ref":"#/definitions/Batch"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"BBID":[]},{"SAS":[]}],"deprecated":false}},"/v1/batches/{id}":{"get":{"tags":["batch-resource"],"summary":"find","operationId":"findUsingGET","produces":["application/json"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"string"}],"responses":{"200":{"description":"a Batch API object representing a batch of installments","schema":{"$ref":"#/definitions/Batch"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"BBID":[]},{"SAS":[]}],"deprecated":false}},"/v1/batches/{id}/bbpsstatus":{"get":{"tags":["batch-resource"],"summary":"findStatus","operationId":"findStatusUsingGET","produces":["application/json"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"string"}],"responses":{"200":{"description":"an API object with the value of the batch status in BBPS","schema":{"$ref":"#/definitions/PaymentsBatchStatus"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"BBID":[]},{"SAS":[]}],"deprecated":false}},"/v1/batches/{id}/publishtogifts":{"post":{"tags":["batch-resource"],"summary":"remediateStuckBatch","operationId":"remediateStuckBatchUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Batch"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"BBID":[]},{"SAS":[]}],"deprecated":false}},"/v1/batches/{id}/updatestatus":{"post":{"tags":["batch-resource"],"summary":"updateBatchStatus","operationId":"updateBatchStatusUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"string"},{"in":"body","name":"newBatch","description":"newBatch","required":true,"schema":{"$ref":"#/definitions/Batch"}}],"responses":{"200":{"description":"a Batch API object representing a batch of installments with updated status","schema":{"$ref":"#/definitions/Batch"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"BBID":[]},{"SAS":[]}],"deprecated":false}},"/v1/calculateschedule":{"post":{"tags":["calculate-schedule-resource"],"summary":"calculateSchedule","operationId":"calculateScheduleUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"schedule","description":"schedule","required":true,"schema":{"$ref":"#/definitions/Schedule"}}],"responses":{"200":{"description":"the list of future iterations (date format: yyyy-mm-dd) of the schedule given the start_date and frequency requested","schema":{"type":"array","items":{"$ref":"#/definitions/LocalDate"}}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"BBID":[]},{"SAS":[]}],"deprecated":false}},"/v1/gifts":{"get":{"tags":["gift-resource"],"summary":"findAll","operationId":"findAllUsingGET_1","produces":["application/json"],"parameters":[{"name":"environmentFilter","in":"query","description":"an EnvironmentFilter to restrict sites to, possible values ALL_SITES, CANARY_SITES, NO_CANARY_SITES","required":false,"type":"string","allowEmptyValue":false,"enum":["ALL_SITES","CANARY_SITES","NO_CANARY_SITES"]},{"name":"pageSize","in":"query","description":"number of gifts to return for this page","required":false,"type":"integer","format":"int32","allowEmptyValue":false},{"name":"startId","in":"query","description":"the start of the next page of gifts","required":false,"type":"string","allowEmptyValue":false}],"responses":{"200":{"description":"a list of Gift API objects representing an installment that's been created in RE","schema":{"type":"array","items":{"$ref":"#/definitions/Gift"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"BBID":[]},{"SAS":[]}],"deprecated":false}},"/v1/gifts/{giftId}/replay":{"get":{"tags":["gift-resource"],"summary":"replayMessage","operationId":"replayMessageUsingGET","produces":["application/json"],"parameters":[{"name":"giftId","in":"path","description":"the gift id to republish a message for","required":false,"type":"string"}],"responses":{"200":{"description":"a response indicating that the operation was successful"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"BBID":[]},{"SAS":[]}],"deprecated":false}},"/v1/recurringgiftschedules":{"get":{"tags":["recurring-gift-schedule-resource"],"summary":"findAll","operationId":"findAllUsingGET_2","produces":["application/json"],"parameters":[{"name":"environmentFilter","in":"query","description":"an EnvironmentFilter to restrict sites to, possible values ALL_SITES, CANARY_SITES, NO_CANARY_SITES","required":false,"type":"string","allowEmptyValue":false,"enum":["ALL_SITES","CANARY_SITES","NO_CANARY_SITES"]},{"name":"environmentId","in":"query","description":"an environmentId to filter which recurring gift schedules to return","required":false,"type":"string","allowEmptyValue":false},{"name":"pageSize","in":"query","description":"number of recurring gift schedules to return for this page","required":false,"type":"integer","format":"int32","allowEmptyValue":false},{"name":"startId","in":"query","description":"the start of the next page of recurring gift schedules","required":false,"type":"string","allowEmptyValue":false}],"responses":{"200":{"description":"a list of RecurringGiftSchedule API objects representing a recurring gift schedule","schema":{"type":"array","items":{"$ref":"#/definitions/RecurringGiftSchedule"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"BBID":[]},{"SAS":[]}],"deprecated":false}},"/v1/recurringgiftschedules/{environmentId}/{giftTemplateId}/nextinstallmentdate":{"get":{"tags":["recurring-gift-schedule-resource"],"summary":"getNextInstallmentDate","operationId":"getNextInstallmentDateUsingGET","produces":["application/json"],"parameters":[{"name":"environmentId","in":"path","description":"the environment to which this recurring gift schedule belongs","required":false,"type":"string"},{"name":"giftTemplateId","in":"path","description":"the gift template id for the recurring gift schedule","required":false,"type":"string"}],"responses":{"200":{"description":"the date of the next installment due to be processed for the recurring gift schedule (format: yyyy-mm-dd)","schema":{"type":"string","format":"date"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"BBID":[]},{"SAS":[]}],"deprecated":false}},"/v1/recurringgiftschedules/{environmentId}/{giftTemplateId}/process":{"get":{"tags":["recurring-gift-schedule-resource"],"summary":"process","operationId":"processUsingGET","produces":["application/json"],"parameters":[{"name":"environmentId","in":"path","description":"the environment to which this recurring gift schedule belongs","required":false,"type":"string"},{"name":"giftTemplateId","in":"path","description":"the gift template id for the recurring gift schedule","required":false,"type":"string"}],"responses":{"200":{"description":"the batch created to immediately process this recurring gift schedule","schema":{"$ref":"#/definitions/Batch"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"BBID":[]},{"SAS":[]}],"deprecated":false}},"/v1/schedulefrequencies":{"get":{"tags":["schedule-frequencies-resource"],"summary":"getFrequencies","operationId":"getFrequenciesUsingGET_1","produces":["application/json"],"responses":{"200":{"description":"a list of the frequencies currently supported","schema":{"type":"array","items":{"type":"string","enum":["WEEKLY","EVERY_TWO_WEEKS","EVERY_FOUR_WEEKS","TWICE_A_MONTH","MONTHLY","QUARTERLY","EVERY_SIX_MONTHS","ANNUALLY"]}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"BBID":[]},{"SAS":[]}],"deprecated":false}}},"securityDefinitions":{"BBID":{"type":"apiKey","name":"Authorization","in":"header"},"SAS":{"type":"oauth2","tokenUrl":"https://service-authorization.sky.blackbaud.com/oauth2/token?grant_type=client_credentials&audience_id=p-usa01\\rec-recur","flow":"application"}},"definitions":{"Batch":{"type":"object","properties":{"bbps_configuration_id":{"type":"string"},"environment_id":{"type":"string"},"id":{"type":"string"},"installments":{"type":"array","items":{"$ref":"#/definitions/InstallmentData"}},"installments_count":{"type":"integer","format":"int32"},"last_updated_at":{"type":"string","format":"date-time"},"payment_type":{"type":"string"},"processor_batch_id":{"type":"string","format":"uuid"},"status":{"type":"string"}},"title":"Batch"},"CosmosDocumentCollection":{"type":"object","properties":{"indexing_policy":{"$ref":"#/definitions/IndexingPolicy"},"name":{"type":"string"},"offer":{"$ref":"#/definitions/Offer"},"partition_key_definition":{"$ref":"#/definitions/PartitionKeyDefinition"},"partition_key_range_statistics_collection":{"type":"array","items":{"$ref":"#/definitions/PartitionKeyRangeStatistics"}},"partitioned":{"type":"boolean"},"resource_id":{"type":"string"},"self_link":{"type":"string"}},"title":"CosmosDocumentCollection"},"DeadLetterQueueMessage":{"type":"object","properties":{"body_content":{"type":"object"},"enqueued_time_utc":{"type":"string","format":"date-time"},"message_id":{"type":"string"},"message_properties":{"type":"object"},"sequence_number":{"type":"integer","format":"int64"}},"title":"DeadLetterQueueMessage"},"ExcludedPath":{"type":"object","properties":{"path":{"type":"string"},"properties":{"type":"object"}},"title":"ExcludedPath"},"Gift":{"type":"object","properties":{"amount":{"type":"number","format":"double"},"batch_id":{"type":"string"},"bbps_configuration_id":{"type":"string"},"consecutive_failed_attempts":{"type":"integer","format":"int32"},"consecutive_failed_pay_periods":{"type":"integer","format":"int32"},"created_date":{"type":"string","format":"date-time"},"environment_id":{"type":"string"},"gateway_result_code":{"type":"string"},"gateway_result_msg":{"type":"string"},"gift_status":{"type":"string","enum":["ACTIVE","HELD","TERMINATED","COMPLETED","CANCELLED"]},"gift_template_id":{"type":"string"},"id":{"type":"string"},"installment_id":{"type":"string"},"payment_type":{"type":"string","enum":["DIRECT_DEBIT","CREDIT_CARD"]},"renxt_gift_added_date":{"type":"string","format":"date-time"},"result_code":{"type":"integer","format":"int32"},"retry_code":{"type":"integer","format":"int32"},"schedule":{"$ref":"#/definitions/RecurringSchedule"},"transaction_id":{"type":"string","format":"uuid"}},"title":"Gift"},"GiftProcessingInfo":{"type":"object","properties":{"consecutive_failed_attempts":{"type":"integer","format":"int32"},"consecutive_failed_pay_periods":{"type":"integer","format":"int32"},"next_payment_date":{"type":"string","format":"date"},"processing_status":{"type":"string","enum":["NOT_PROCESSING","PROCESSING","BLOCKED"]}},"title":"GiftProcessingInfo"},"IncludedPath":{"type":"object","properties":{"indexes":{"type":"array","items":{"$ref":"#/definitions/Index"}},"path":{"type":"string"}},"title":"IncludedPath"},"Index":{"type":"object","properties":{"index_properties":{"type":"object"},"index_type":{"type":"string"}},"title":"Index"},"IndexingPolicy":{"type":"object","properties":{"automatic":{"type":"boolean"},"excluded_paths":{"type":"array","items":{"$ref":"#/definitions/ExcludedPath"}},"included_paths":{"type":"array","items":{"$ref":"#/definitions/IncludedPath"}},"indexing_mode":{"type":"string"}},"title":"IndexingPolicy"},"InstallmentData":{"type":"object","properties":{"amount":{"type":"number","format":"double"},"gateway_result_code":{"type":"string"},"gateway_result_msg":{"type":"string"},"gift_template_id":{"type":"string"},"installment_date":{"type":"string","format":"date"},"installment_id":{"type":"string"},"result_code":{"type":"integer","format":"int32"},"retry_code":{"type":"integer","format":"int32"},"retry_metadata":{"$ref":"#/definitions/InstallmentRetryMetadata"},"transaction_id":{"type":"string","format":"uuid"}},"title":"InstallmentData"},"InstallmentRetryMetadata":{"type":"object","properties":{"consecutive_failed_attempts":{"type":"integer","format":"int32"},"consecutive_failed_pay_periods":{"type":"integer","format":"int32"}},"title":"InstallmentRetryMetadata"},"Offer":{"type":"object","properties":{"offer_replace_pending":{"type":"boolean"},"offer_type":{"type":"string"},"offer_version":{"type":"string"},"request_units":{"type":"integer","format":"int32"}},"title":"Offer"},"PartitionKeyDefinition":{"type":"object","properties":{"kind":{"type":"string"},"paths":{"type":"array","items":{"type":"string"}}},"title":"PartitionKeyDefinition"},"PartitionKeyRangeStatistics":{"type":"object","properties":{"document_count":{"type":"integer","format":"int64"},"id":{"type":"string"},"partition_key_statistics_collection":{"type":"array","items":{"$ref":"#/definitions/PartitionKeyStatistics"}},"size_in_kb":{"type":"integer","format":"int64"}},"title":"PartitionKeyRangeStatistics"},"PartitionKeyStatistics":{"type":"object","properties":{"partition_key":{"type":"string"},"partition_size_in_kb":{"type":"integer","format":"int64"},"properties":{"type":"object"}},"title":"PartitionKeyStatistics"},"PaymentsBatchStatus":{"type":"object","properties":{"value":{"type":"string"}},"title":"PaymentsBatchStatus"},"RecurringGiftSchedule":{"type":"object","properties":{"amount":{"type":"number","format":"double"},"bbps_configuration_id":{"type":"string"},"environment_id":{"type":"string"},"gift_processing_info":{"$ref":"#/definitions/GiftProcessingInfo"},"gift_template_id":{"type":"string"},"id":{"type":"string"},"payment_type":{"type":"string","enum":["DIRECT_DEBIT","CREDIT_CARD"]},"schedule":{"$ref":"#/definitions/RecurringSchedule"},"status":{"type":"string","enum":["ACTIVE","HELD","TERMINATED","COMPLETED","CANCELLED"]}},"title":"RecurringGiftSchedule"},"RecurringSchedule":{"type":"object","properties":{"end_date":{"type":"string","format":"date"},"frequency":{"type":"string","enum":["WEEKLY","EVERY_TWO_WEEKS","EVERY_FOUR_WEEKS","TWICE_A_MONTH","MONTHLY","QUARTERLY","EVERY_SIX_MONTHS","ANNUALLY"]},"start_date":{"type":"string","format":"date"}},"title":"RecurringSchedule"},"Schedule":{"type":"object","properties":{"frequency":{"type":"string","enum":["WEEKLY","EVERY_TWO_WEEKS","EVERY_FOUR_WEEKS","TWICE_A_MONTH","MONTHLY","QUARTERLY","EVERY_SIX_MONTHS","ANNUALLY"]},"iterations":{"type":"integer","format":"int32","description":"a number between 1-5 (optional- defaults to 1 if not provided)"},"start_date":{"type":"string","format":"date","description":"formatted yyyy-mm-dd"}},"title":"Schedule"}}}
